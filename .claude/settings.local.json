{
  "permissions": {
    "allow": [
      "Bash(npm install:*)",
      "Bash(mkdir:*)",
      "Bash(npx tauri init:*)",
      "Bash(npx prisma init:*)",
      "Bash(npx prisma migrate dev:*)",
      "Bash(npm run:*)",
      "Bash(npx tailwindcss init:*)",
      "Bash(cmd /c:*)",
      "Bash(npx kill-port:*)",
      "Bash(cargo --version)",
      "Bash(timeout:*)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(test:*)",
      "Bash(npx tsc:*)",
      "Bash(curl:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: correct Prisma enum imports in API server and report service\n\nFixed critical runtime errors caused by incorrect Prisma enum access patterns:\n\n1. **Report Service (src/lib/services/reportService.ts)**:\n   - Import AccountType directly from @prisma/client instead of accessing via Prisma.AccountType\n   - Replace all instances of Prisma.AccountType.INCOME/EXPENSE with AccountType.INCOME/EXPENSE\n   - Root cause: AccountType is exported as a top-level export, not under the Prisma namespace\n\n2. **API Server (src-server/api.ts)**:\n   - Import AccountType and AccountKind directly from @prisma/client  \n   - Replace Prisma.AccountType.* and Prisma.AccountKind.* with direct enum access\n   - Affects endpoints: /api/accounts, /api/categories, and type casting logic\n\n**Testing Results**:\n- âœ… All report endpoints working (P&L, GST Summary, BAS Draft)\n- âœ… Account management endpoints working\n- âœ… Category endpoints working\n- âœ… Transaction CRUD working\n- âœ… Register view working\n- âœ… Import/reconciliation endpoints verified\n\n**Technical Details**:\nThe Prisma client exports enums like AccountType, AccountKind, GSTCode, etc. as top-level exports from ''@prisma/client'', not under the Prisma namespace. The Prisma namespace contains types and utilities, but not the runtime enum values.\n\nCorrect pattern:\n```typescript\nimport { AccountType } from ''@prisma/client'';\nif (type === AccountType.INCOME) { ... }\n```\n\nIncorrect pattern (causes \"Cannot read properties of undefined\" at runtime):\n```typescript\nimport { Prisma } from ''@prisma/client'';\nif (type === Prisma.AccountType.INCOME) { ... }  // AccountType is undefined\n```\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push)",
      "Bash(git commit:*)"
    ],
    "deny": [],
    "ask": []
  }
}
